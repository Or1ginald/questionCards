(this.webpackJsonpcards=this.webpackJsonpcards||[]).push([[0],{10:function(e,t,n){e.exports={createNewPasswordForm:"CreateNewPassword_createNewPasswordForm__2HiBA",container:"CreateNewPassword_container__2BbsK",form:"CreateNewPassword_form__31usz",additions:"CreateNewPassword_additions__3aE-X",signUpContainer:"CreateNewPassword_signUpContainer__3fLTk"}},11:function(e,t,n){e.exports={registrationForm:"Registration_registrationForm__2Incd",container:"Registration_container__g8KJ7",form:"Registration_form__27a-o"}},12:function(e,t,n){e.exports={loginForm:"Login_loginForm__1OV9O",container:"Login_container__1scR1",form:"Login_form__3bgry",additions:"Login_additions__2wjVI",signUpContainer:"Login_signUpContainer__1LWut"}},13:function(e,t,n){e.exports={passwordRecoveryForm:"PasswordRecovery_passwordRecoveryForm__3ph1j",container:"PasswordRecovery_container__3u-0D",form:"PasswordRecovery_form__3tnSo",additions:"PasswordRecovery_additions__1nQkM",signUpContainer:"PasswordRecovery_signUpContainer__G8iKT"}},18:function(e,t,n){e.exports={header:"Header_header__1fCsm",container:"Header_container__29Cyd",logout:"Header_logout__1elhx",current:"Header_current__m4nQT"}},22:function(e,t,n){e.exports={inputWrap:"CustomTextInput_inputWrap__3xobm",input:"CustomTextInput_input__1zPq1"}},33:function(e,t,n){e.exports={container:"RoutesComponent_container__2qzC6"}},34:function(e,t,n){e.exports={button:"CustomButton_button__3wmoW"}},35:function(e,t,n){e.exports={snackbar:"SnackBar_snackbar__769c6"}},41:function(e,t,n){},45:function(e,t,n){},65:function(e,t,n){"use strict";n.r(t);var r,c,a,o=n(0),s=n.n(o),i=n(16),l=n.n(i),u=(n(41),n(3)),d=n(5),j=(n(45),n(4)),b=n(32),O=n.n(b).a.create({baseURL:"https://neko-back.herokuapp.com/2.0",withCredentials:!0}),f=function(e,t){return O.post("/auth/register",{email:e,password:t})},m=function(e,t,n){return O.post("/auth/login",{email:e,password:t,rememberMe:n})},p=function(){return O.post("/auth/me")},h=function(){return O.delete("/auth/me")},x=function(e,t){return O.post("/auth/set-new-password",{password:e,resetPasswordToken:t})},_=function(e){return O.post("/auth/forgot",function(e,t){return{email:e,from:t,message:'\n    <div\n      style="\n        background-color: #a8d5c9;\n        margin: 30px auto;\n        border: 1px solid black;\n        border-radius: 10px;\n        padding: 15px;\n        text-align: center;\n      "\n    >\n      Password Recovery Link:\n      <a\n        href="https://or1ginald.github.io/questionCards/#/createNewPassword/$token$"\n        >Click Here</a\n      >'}}(e,"GuessCards.com"))},v=n(9),g="REGISTRATION/SET_EMAIL",R="REGISTRATION/SET_PASSWORD",w="REGISTRATION/SET_CONFIRM_PASSWORD",C="REGISTRATION/SET_IS_REGISTERED",E="REGISTRATION/SET_REMEMBER_ME",N={email:null,password:null,confirmPassword:null,rememberMe:null,error:null,isRegistered:!1},y=function(e){return{type:g,email:e}},P=function(e){return{type:R,password:e}},S=function(e){return{type:w,confirmPassword:e}},I="USER_REDUCER/SET_USER_PROFILE_DATA",A="USER_REDUCER/SET_STATE_TO_DEFAULT",T={_id:null,email:null,name:null,avatar:null,publicCardPacksCount:null,created:null,updated:null,isAdmin:null,verified:null,rememberMe:null,error:null},k=function(e){return{type:I,payload:e}},L=function(){return function(e){e(M(!0)),h().then((function(t){console.log(t),e({type:A}),e(H(!1))})).catch((function(t){e(B(t.response.data.error))})).finally((function(){return e(M(!1))}))}},F=function(){return function(e,t){var n=t().userAuthForm.email,r=t().userAuthForm.password;e(M(!0)),f(n,r).then((function(){e({type:C,isRegistered:!0}),console.log("Registration success")})).catch((function(t){e(B(t.response.data.error))})).finally((function(){return e(M(!1))}))}},D="APP/SET_IS_LOADING",U="APP/SET_ERROR",G="APP/SET_IS_AUTH",z="APP/SET_IS_INITIALIZED",W={isInitialized:!1,isLoading:!1,isAuth:!1,error:null},M=function(e){return{type:D,isLoading:e}},B=function(e){return{type:U,error:e}},H=function(e){return{type:G,isAuth:e}},V=function(e){return{type:z,isInitialized:e}},q=n(2),J=n(11),K=n.n(J);!function(e){e.REGISTRATION="/registration",e.LOGIN="/login",e.PROFILE="/profile",e.POPUP="/popup",e.CREATE_NEW_PASSWORD="/createNewPassword/:token",e.PASSWORD_RECOVERY="/passwordRecovery/*",e.PAGE_404="/*",e.CARDS="/cards",e.CARD="/card"}(r||(r={})),function(e){e.idle="idle",e.loading="loading",e.succeeded="succeeded",e.failed="failed"}(c||(c={})),function(e){e.true="on",e.false="off"}(a||(a={}));var Y=function(e){return e.userAuthForm.email},Q=function(e){return e.userAuthForm.password},$=function(e){return e.userAuthForm.confirmPassword},X=function(e){return e.userAuthForm.isRegistered},Z=function(e){return e.app.error},ee=function(e){return e.app.isAuth},te=function(e){return e.app.isLoading},ne=function(e){return e.app.isInitialized},re=function(e){return e.user.email},ce=function(e){return e.user.name},ae=function(e){return e.user.avatar},oe=n(1),se=Object(o.memo)((function(){var e=Object(u.b)(),t=Object(u.c)(Y),n=Object(u.c)(Q),c=Object(u.c)($),s=Object(u.c)(X);Object(o.useEffect)((function(){return function(){console.log("cleanup"),e(y(null)),e(P(null)),e(S(null))}}),[]);var i=Object(o.useCallback)((function(t){e(y(t))}),[]),l=Object(o.useCallback)((function(t){e(P(t))}),[]),d=Object(o.useCallback)((function(t){e(S(t))}),[]);return s?Object(oe.jsx)(q.a,{to:r.LOGIN}):Object(oe.jsx)("div",{className:K.a.registrationForm,children:Object(oe.jsxs)("div",{className:K.a.container,children:[Object(oe.jsx)("h1",{children:"Registration"}),Object(oe.jsxs)("form",{onSubmit:function(t){t.preventDefault(),n===c&&(e(F()),e(y(null)),e(P(null)),e(S(null))),n!==c&&console.log("\u041f\u0430\u0440\u043e\u043b\u0438 \u043d\u0435 \u0441\u043e\u0432\u043f\u0430\u0434\u0430\u044e\u0442")},className:K.a.form,children:[Object(oe.jsx)(Pe,{placeholder:"Email",value:null!==t&&void 0!==t?t:"",onChange:i,type:"text",autoCapitalize:a.false}),Object(oe.jsx)(Pe,{placeholder:"Password",onChange:l,value:null!==n&&void 0!==n?n:"",type:"password"}),Object(oe.jsx)(Pe,{placeholder:"Confirm Password",onChange:d,value:null!==c&&void 0!==c?c:"",type:"password"}),Object(oe.jsx)("div",{children:Object(oe.jsx)(Ee,{title:"Create",type:"submit"})})]})]})})})),ie=n(18),le=n.n(ie),ue=function(){var e=Object(u.b)();return Object(oe.jsx)("div",{className:le.a.header,children:Object(oe.jsxs)("div",{className:le.a.container,children:[Object(oe.jsx)(d.b,{to:"/index",children:"Logo"}),Object(oe.jsxs)("nav",{children:[Object(oe.jsx)(d.b,{to:"profile",children:"Profile"}),Object(oe.jsx)(d.b,{to:"packs",children:"Packs"})]}),Object(oe.jsx)("div",{className:le.a.logout,onClick:function(){return e(L())},children:"Log out"})]})})},de=Object(o.memo)((function(){var e=Object(u.b)(),t=Object(u.c)(ee),n=Object(u.c)(ce),c=Object(u.c)(re),a=Object(u.c)(ae),s=Object(u.c)(ne);return Object(o.useEffect)((function(){return function(){e(B(null))}}),[]),s?t?Object(oe.jsx)("div",{className:K.a.registrationForm,children:Object(oe.jsxs)("div",{className:K.a.container,children:[Object(oe.jsx)("h1",{children:"Profile"}),a&&Object(oe.jsx)("img",{src:"",alt:"profile"}),Object(oe.jsx)("div",{children:n}),Object(oe.jsx)("div",{children:c})]})}):Object(oe.jsx)(q.a,{to:r.LOGIN}):Object(oe.jsx)(Te,{})})),je=n(33),be=n.n(je),Oe=Object(o.memo)((function(){return console.log("fff"),Object(oe.jsx)("div",{className:be.a.container,children:Object(oe.jsxs)(q.d,{children:[Object(oe.jsx)(q.b,{element:Object(oe.jsx)(q.a,{to:r.PROFILE}),path:"/"}),Object(oe.jsx)(q.b,{element:Object(oe.jsx)(q.a,{to:r.PROFILE}),path:"/questionCards"}),Object(oe.jsx)(q.b,{element:Object(oe.jsx)(de,{}),path:r.PROFILE}),Object(oe.jsx)(q.b,{element:Object(oe.jsx)(se,{}),path:r.REGISTRATION}),Object(oe.jsx)(q.b,{element:Object(oe.jsx)(pe,{}),path:r.LOGIN}),Object(oe.jsx)(q.b,{element:Object(oe.jsx)(_e,{}),path:r.PASSWORD_RECOVERY}),Object(oe.jsx)(q.b,{path:r.CREATE_NEW_PASSWORD,element:Object(oe.jsx)(Re,{}),children:Object(oe.jsx)(q.b,{path:":token",element:Object(oe.jsx)(Re,{})})})]})})})),fe=n(12),me=n.n(fe),pe=Object(o.memo)((function(){var e=Object(u.b)(),t=Object(q.g)(),n=Object(u.c)(Y),c=Object(u.c)(Q),s=Object(u.c)(ee);Object(o.useEffect)((function(){return function(){e(y(null)),e(P(null))}}),[]);var i=Object(o.useCallback)((function(t){e(y(t))}),[]),l=Object(o.useCallback)((function(t){e(P(t))}),[]);return console.log("login"),s?Object(oe.jsx)(q.a,{to:r.PROFILE}):Object(oe.jsx)("div",{className:me.a.loginForm,children:Object(oe.jsxs)("div",{className:me.a.container,children:[Object(oe.jsx)("h1",{children:"Login"}),Object(oe.jsxs)("form",{onSubmit:function(n){n.preventDefault(),e((function(e,t){var n=t().userAuthForm,r=n.email,c=n.password,a=n.rememberMe;e(M(!0)),m(r,c,a).then((function(t){e(k(t.data)),e(H(!0)),e(V(!0))})).catch((function(t){return e(B(t.response.data.error))})).finally((function(){return e(M(!1))}))})),e(y(null)),e(P(null)),console.log("\u0420\u0435\u0434\u0438\u0440\u0435\u043a\u0442 \u043d\u0430 \u043f\u0440\u043e\u0444\u0430\u0438\u043b"),t(r.PROFILE)},className:me.a.form,children:[Object(oe.jsx)(Pe,{placeholder:"Email",value:null!==n&&void 0!==n?n:"",onChange:i,type:"text",autoCapitalize:a.false}),Object(oe.jsx)(Pe,{placeholder:"Password",onChange:l,value:null!==c&&void 0!==c?c:"",type:"password"}),Object(oe.jsxs)("div",{className:me.a.additions,children:[Object(oe.jsxs)("div",{children:[Object(oe.jsx)("input",{type:"checkbox",onChange:function(t){var n;e((n=t.currentTarget.checked,{type:E,doRemember:n}))}}),Object(oe.jsx)("span",{children:"Remember Me"})]}),Object(oe.jsx)(d.b,{to:r.PASSWORD_RECOVERY,children:"Forgot your password?"})]}),Object(oe.jsx)("div",{children:Object(oe.jsx)(Ee,{title:"Login",type:"submit"})}),Object(oe.jsxs)("div",{className:me.a.signUpContainer,children:[Object(oe.jsx)("div",{children:"Don't have an account?"}),Object(oe.jsx)(d.b,{to:r.REGISTRATION,className:me.a.signUpLink,children:"Sign up"})]})]})]})})})),he=n(13),xe=n.n(he),_e=Object(o.memo)((function(){var e=Object(u.b)(),t=Object(u.c)(Y),n=Object(o.useState)(!1),c=Object(v.a)(n,2),s=(c[0],c[1]);Object(o.useEffect)((function(){return function(){console.log("cleanup"),e(y(null))}}),[]);var i=Object(o.useCallback)((function(t){e(y(t))}),[]);return Object(oe.jsx)("div",{className:xe.a.passwordRecoveryForm,children:Object(oe.jsxs)("div",{className:xe.a.container,children:[Object(oe.jsx)("h1",{children:"Restoring access"}),Object(oe.jsxs)("form",{onSubmit:function(t){t.preventDefault(),e((function(e,t){var n=t().userAuthForm.email;e(M(!0)),_(n).then((function(){console.log("Mail was sent")})).catch((function(t){e(B(t.response.data.error))})).finally((function(){return e(M(!1))}))})),e(y(null)),s(!0)},className:xe.a.form,children:[Object(oe.jsx)(Pe,{placeholder:"Email",value:null!==t&&void 0!==t?t:"",onChange:i,type:"text",autoCapitalize:a.false}),Object(oe.jsx)("div",{className:xe.a.additions,children:"Enter your backup email"}),Object(oe.jsx)("div",{children:Object(oe.jsx)(Ee,{title:"Send",type:"submit"})}),Object(oe.jsxs)("div",{className:xe.a.signUpContainer,children:[Object(oe.jsx)("div",{children:"Remembered yor password?"}),Object(oe.jsx)(d.b,{to:r.LOGIN,className:xe.a.signUpLink,children:"Back to login"})]})]})]})})})),ve=n(10),ge=n.n(ve),Re=Object(o.memo)((function(){var e=Object(u.b)(),t=Object(q.h)().token,n=Object(u.c)(Q),c=Object(u.c)($),s=Object(o.useState)(!1),i=Object(v.a)(s,2),l=i[0],j=i[1];Object(o.useEffect)((function(){return function(){console.log("cleanup"),e(P(null)),e(S(null))}}),[]);var b=Object(o.useCallback)((function(t){e(P(t))}),[]),O=Object(o.useCallback)((function(t){e(S(t))}),[]);return l?Object(oe.jsx)(q.a,{to:r.LOGIN}):Object(oe.jsx)("div",{className:ge.a.createNewPasswordForm,children:Object(oe.jsxs)("div",{className:ge.a.container,children:[Object(oe.jsx)("h1",{children:"New password"}),Object(oe.jsxs)("form",{onSubmit:function(n){var r;n.preventDefault(),e((r=t,function(e,t){var n=t().userAuthForm.password;e(M(!0)),x(n,r).then((function(){console.log("New password was created")})).catch((function(t){e(B(t.response.data.error))})).finally((function(){e(P(null)),e(S(null)),e(M(!1))}))})),j(!0)},className:ge.a.form,children:[Object(oe.jsx)(Pe,{placeholder:"Password",value:null!==n&&void 0!==n?n:"",onChange:b,type:"text",autoCapitalize:a.false}),Object(oe.jsx)(Pe,{placeholder:"Confirm password",value:null!==c&&void 0!==c?c:"",onChange:O,type:"text",autoCapitalize:a.false}),Object(oe.jsx)("div",{className:ge.a.additions,children:"Should contain at least 8 letters or numbers"}),Object(oe.jsx)("div",{className:ge.a.additions,children:"One capital and one small letter"}),Object(oe.jsx)("div",{children:Object(oe.jsx)(Ee,{title:"Confirm",type:"submit"})}),Object(oe.jsxs)("div",{className:ge.a.signUpContainer,children:[Object(oe.jsx)("div",{children:"Remembered yor password?"}),Object(oe.jsx)(d.b,{to:r.LOGIN,className:ge.a.signUpLink,children:"Back to login"})]})]})]})})})),we=n(34),Ce=n.n(we),Ee=s.a.memo((function(e){var t=e.onClick,n=e.title,r=e.disabled,c=e.type;return Object(oe.jsx)("button",{className:Ce.a.button,onClick:function(){t&&t()},disabled:r,type:c,children:n})})),Ne=n(22),ye=n.n(Ne),Pe=Object(o.memo)((function(e){var t=e.placeholder,n=e.type,r=e.className,c=e.value,o=e.onChange,s=e.name,i=e.autoCapitalize;return Object(oe.jsx)("div",{className:ye.a.inputWrap,children:Object(oe.jsx)("input",{size:40,type:n,name:s,value:c,onChange:function(e){o(e.currentTarget.value)},placeholder:t,className:null!==r&&void 0!==r?r:ye.a.input,autoComplete:"off",spellCheck:!1,"aria-autocomplete":"list",autoCapitalize:null!==i&&void 0!==i?i:a.true})})})),Se=n(35),Ie=n.n(Se),Ae=Object(o.memo)((function(){var e=Object(u.c)(Z);return Object(oe.jsx)("div",{className:Ie.a.snackbar,children:Object(oe.jsx)("div",{children:e})})})),Te=function(){return Object(oe.jsx)("div",{style:{display:"flex",justifyContent:"center",alignItems:"center"},children:"Loading..."})},ke=function(){var e=Object(u.b)(),t=Object(u.c)(Z),n=Object(u.c)(ne),r=Object(u.c)(te);return Object(o.useEffect)((function(){n||e((function(e){return e(M(!0)),p().then((function(t){e(H(!0)),e(k(t.data))})).finally((function(){e(V(!0)),e(M(!1))}))}))}),[]),r?Object(oe.jsxs)("div",{children:[Object(oe.jsx)(ue,{}),Object(oe.jsx)(Te,{})]}):Object(oe.jsxs)("div",{className:"App",children:[Object(oe.jsx)(ue,{}),Object(oe.jsx)(Oe,{}),t&&Object(oe.jsx)(Ae,{})]})},Le=n(19),Fe=n(36),De=Object(Le.b)({app:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:W,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case D:return Object(j.a)(Object(j.a)({},e),{},{isLoading:t.isLoading});case U:return Object(j.a)(Object(j.a)({},e),{},{error:t.error});case G:return Object(j.a)(Object(j.a)({},e),{},{isAuth:t.isAuth});case z:return Object(j.a)(Object(j.a)({},e),{},{isInitialized:t.isInitialized});default:return e}},userAuthForm:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:N,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case g:return Object(j.a)(Object(j.a)({},e),{},{email:t.email});case R:return Object(j.a)(Object(j.a)({},e),{},{password:t.password});case w:return Object(j.a)(Object(j.a)({},e),{},{confirmPassword:t.confirmPassword});case E:return Object(j.a)(Object(j.a)({},e),{},{rememberMe:t.doRemember});case C:return Object(j.a)(Object(j.a)({},e),{},{isRegistered:t.isRegistered});default:return e}},user:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:T,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case I:return Object(j.a)(Object(j.a)({},e),t.payload);case A:var n=Object(j.a)({},e);return Object.fromEntries(Object.entries(n).map((function(e){return[Object(v.a)(e,1)[0],null]}))),n;default:return e}}}),Ue=Object(Le.c)(De,Object(Le.a)(Fe.a));window.store=Ue,l.a.render(Object(oe.jsx)(d.a,{children:Object(oe.jsx)(u.a,{store:Ue,children:Object(oe.jsx)(ke,{})})}),document.getElementById("root"))}},[[65,1,2]]]);
//# sourceMappingURL=main.f1301b1e.chunk.js.map